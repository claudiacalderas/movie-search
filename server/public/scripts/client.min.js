var movieSearchApp=angular.module("movieSearchApp",[]);movieSearchApp.controller("SearchController",["$scope","MovieService",function(a,b){var c=b;a.movieTitle=c.movieTitle,a.getOMDB=c.getOMDB,a.movieFromOMDB=c.movieFromOMDB,a.addToFavorites=c.addToFavorites}]),movieSearchApp.controller("FavoritesController",["$scope","MovieService",function(a,b){var c=b;a.getFavorites=c.getFavorites,a.getFavorites(),a.favoritesObject=c.favoritesObject}]),movieSearchApp.factory("MovieService",["$http",function(a){function b(){console.log("in getFavorites"),a.get("/favorites").then(function(a){f.favorites=a.data,console.log(f.favorites)})}function c(b){var c=angular.copy(b);b="";var d="http://www.omdbapi.com/?t="+c+"&y=&plot=short&r=json";a.get(d).then(function(a){e.response=a,"True"===e.response.data.Response?(e.showMovie=!0,e.showMessage=!1):(e.showMovie=!1,e.showMessage=!0),console.log(a)})}function d(c){var d=angular.copy(c);console.log("posting message: ",d),a.post("/favorites",d).then(function(a){console.log(a),b()})}var e={showMovie:!1,showMessage:!1},f={favorites:[]};return{movieFromOMDB:e,favoritesObject:f,getFavorites:b,getOMDB:c,addToFavorites:d}}]);