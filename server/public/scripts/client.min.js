var movieSearchApp=angular.module("movieSearchApp",[]);movieSearchApp.controller("SearchController",["$scope","MovieService",function(a,b){var c=b;a.movieTitle=c.movieTitle,a.getOMDB=c.getOMDB,a.movieFromOMDB=c.movieFromOMDB,a.addToFavorites=c.addToFavorites}]),movieSearchApp.controller("FavoritesController",["$scope","MovieService",function(a,b){var c=b;a.getFavorites=c.getFavorites,a.getFavorites(),a.favoritesObject=c.favoritesObject,a.deleteFavorite=c.deleteFavorite}]),movieSearchApp.factory("MovieService",["$http",function(a){function b(){console.log("in getFavorites"),a.get("/favorites").then(function(a){g.favorites=a.data,console.log(g.favorites)})}function c(b){var c=angular.copy(b);b="";var d="http://www.omdbapi.com/?t="+c+"&y=&plot=short&r=json";a.get(d).then(function(a){f.response=a,"True"===f.response.data.Response?(f.showMovie=!0,f.showMessage=!1):(f.showMovie=!1,f.showMessage=!0),console.log(a)})}function d(c){var d=angular.copy(c);console.log("Posting movie: ",d),a.post("/favorites",d).then(function(a){console.log(a),b()})}function e(c){console.log("Deleting movie: ",c),a.delete("/favorites/"+c._id).then(function(a){b()})}var f={showMovie:!1,showMessage:!1},g={favorites:[]};return{movieFromOMDB:f,favoritesObject:g,getFavorites:b,getOMDB:c,addToFavorites:d,deleteFavorite:e}}]);